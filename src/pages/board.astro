---
import Layout from '../layouts/Layout.astro';
import Navigation from '../components/Navigation.astro';
import papersData from '../../public/papers.json';

// Current editors data
const currentEditors = [
  {
    name: "Leonardo Russo Cardona",
    role: "",
    institution: "University of Cambridge",
    department: "",
    email: "lr548@cam.ac.uk",
    image: "/editors/leo.jpeg",
    link: "https://www.leonerusso.com/",
    bio: "His main academic interests are generative syntax, language typology, and Romance linguistics. For his doctoral research, Leonardo is investigating noncanonical passive constructions and cross-clausal dependencies, in order to better understand the interaction between Voice and clause size â€” mostly on the basis of Romance languages."
  },
  {
    name: "Federica Longo",
    role: "",
    institution: "University of Messina",
    department: "",
    email: "federica.longo1@studenti.unime.it",
    image: "/editors/fede.jpeg",
    link: "https://federicalongo.github.io/",
    bio: "Her main interests are formal semantics, experimental pragmatics, focusing on the semantic-pragmatic interface. Her current research focuses on how autistic and typically developing children comprehend pragmatic inferences, rhetorical questions, indirect requests and irony in real time."
  },
  {
    name: "Tommaso Sgrizzi",
    role: "",
    institution: "IUSS Pavia",
    department: "",
    email: "t.sgrizzi@iusspavia.it",
    image: "/editors/tom.jpg",
    link: "https://tomsgrizzi.github.io/",
    bio: "His research focuses on the role of clausal structure in language development, particularly the acquisition of restructuring verbs. He is also interested in the structure of the vP periphery, the acquisition of the labeling algorithm, and the intent/belief semantic alternation in the non-finite domain."
  },
  {
    name: "Hadis Tamleh",
    role: "",
    institution: "Leiden University",
    department: "",
    email: "h.tamleh@hum.leidenuniv.nl",
    image: "/editors/hadis.jpeg",
    link: "https://hadistamleh.github.io/",
    bio: "Her research focuses on family language policy, multilingualism, and heritage language maintenance. Currently, she is exploring family language policy within the Iranian diaspora in the Netherlands."
  }
];

// Extract past editors from papers.json
const editorYearsMap = new Map();

// Process each paper to extract editors and their years
papersData.forEach(paper => {
  if (paper.editors && paper.year) {
    paper.editors.forEach(editorName => {
      if (!editorYearsMap.has(editorName)) {
        editorYearsMap.set(editorName, []);
      }
      if (!editorYearsMap.get(editorName).includes(paper.year)) {
        editorYearsMap.get(editorName).push(paper.year);
      }
    });
  }
});

// Convert to past editors array, excluding current editors
const currentEditorNames = currentEditors.map(editor => editor.name);
const pastEditors = Array.from(editorYearsMap.entries())
  .filter(([editorName]) => !currentEditorNames.includes(editorName))
  .map(([editorName, years]) => {
    const sortedYears = years.sort((a, b) => a - b);
    const yearRange = sortedYears.length === 1 
      ? sortedYears[0].toString()
      : `${sortedYears[0]}-${sortedYears[sortedYears.length - 1]}`;
    
    return {
      name: editorName,
      years: yearRange
    };
  })
  .sort((a: { years: string }, b: { years: string }) => {
    // Sort by the last year they served (most recent first)
    const aLastYear = parseInt(a.years.split('-').pop() || '0');
    const bLastYear = parseInt(b.years.split('-').pop() || '0');
    return bLastYear - aLastYear;
  });
---

<Layout title="Editorial Board - SOLE Archive">
  <Navigation currentPage="board" />
  
  <!-- Hero Section -->
  <section class="py-16 bg-gradient-to-br from-primary-50 to-accent-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center">
        <h1 class="text-4xl lg:text-5xl font-crimson font-semibold text-primary mb-6">
          Editorial Board
        </h1>
        <p class="text-xl text-text-secondary max-w-3xl mx-auto">
          Meet the dedicated scholars who oversee the quality and integrity of ConSOLE proceedings, 
          ensuring rigorous academic standards and innovative linguistic research.
        </p>
      </div>
    </div>
  </section>

  <!-- Current Editors Section -->
  <section class="py-16 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-crimson font-semibold text-primary mb-4">
          Current Editorial Team
        </h2>
        <p class="text-text-secondary max-w-2xl mx-auto">
          Meet our dedicated editorial team of linguistics researchers and scholars.
        </p>
      </div>

                                         <!-- Current Editors List -->
       <div class="max-w-2xl mx-auto space-y-3">
         {currentEditors.map(editor => (
           <div class="bg-white rounded-lg shadow-sm hover:shadow-md transition-all duration-300 p-3 border border-gray-100">
             <div class="flex items-center gap-4">
                               <!-- Image -->
                <div class="w-8 h-8 rounded-full ring-2 ring-primary/20 overflow-hidden flex-shrink-0">
                  <img 
                    src={editor.image} 
                    alt={editor.name} 
                    class="w-8 h-8 object-cover"
                  />
                </div>
               
               <!-- Name and Institution -->
               <div class="flex-1 min-w-0">
                 <h3 class="text-base font-crimson font-semibold text-primary truncate">{editor.name}</h3>
                 <p class="text-text-secondary text-xs italic truncate">{editor.institution}</p>
               </div>
               
                               <!-- Contact Buttons -->
                <div class="flex items-center gap-2">
                  <!-- Email Button -->
                  <a 
                    href={`mailto:${editor.email}`}
                    class="flex items-center gap-2 text-xs px-2 py-1 rounded-full bg-primary/10 text-primary hover:text-primary-700 transition-colors flex-shrink-0"
                  >
                    <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
                      <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"/>
                      <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"/>
                    </svg>
                    <span class="truncate">{editor.email}</span>
                  </a>
                  
                  <!-- Website Button -->
                  <a 
                    href={editor.link}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="flex items-center justify-center w-6 h-6 rounded-full bg-accent/10 text-accent hover:text-accent-700 transition-colors flex-shrink-0"
                    title={`Visit ${editor.name}'s website`}
                  >
                    <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd"/>
                    </svg>
                  </a>
                </div>
             </div>
           </div>
         ))}
       </div>
      
    </div>
  </section>

  <!-- Past Editors Section -->
  <section class="py-16 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-crimson font-semibold text-primary mb-4">
          Past Editors
        </h2>
        <p class="text-text-secondary max-w-2xl mx-auto">
          We acknowledge the valuable contributions of our previous editorial team members 
          who have helped shape the quality and direction of ConSOLE proceedings.
        </p>
      </div>

      <!-- Past Editors List -->
      <div class="max-w-4xl mx-auto">
        <div class="grid md:grid-cols-2 gap-4">
          {pastEditors.map(editor => (
            <div class="flex items-center justify-between p-4 bg-white rounded-lg border border-gray-100 hover:shadow-sm transition-shadow">
              <span class="font-crimson font-medium text-primary">{editor.name}</span>
              <span class="px-3 py-1 bg-accent-100 text-accent-700 text-sm font-medium rounded-full">
                {editor.years}
              </span>
            </div>
          ))}
        </div>
      </div>
    </div>
  </section>

  <!-- Call to Action Section -->
  
  <!-- Footer -->
  <footer class="bg-primary text-white py-12">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid md:grid-cols-4 gap-8">
        <!-- Brand Column -->
        <div class="md:col-span-2">
          <div class="flex items-center space-x-3 mb-4">
            <img src="/logo.png" alt="SOLE Archive" class="w-8 h-8 object-contain" loading="eager" style="filter: invert(1);" />
            
            <div>
              <h3 class="text-xl font-crimson font-semibold">SOLE Archive</h3>
              <p class="text-sm text-primary-200 font-mono">ConSOLE Proceedings</p>
            </div>
          </div>
          <p class="text-primary-100 mb-4 max-w-md">
            Archive of the ConSOLE proceedings, from 2000 to 2025.
          </p>
          <div class="flex space-x-4">
            
            <a href="https://www.linkedin.com/company/student-organization-of-linguistics-in-europe/posts/?feedView=all" target="_blank" 
            rel="noopener noreferrer"  class="text-primary-200 hover:text-white transition-smooth">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
              </svg>
            </a>
          </div>
        </div>

        <!-- Quick Links -->
        <div>
          <h4 class="font-crimson font-semibold mb-4">Quick Links</h4>
          <ul class="space-y-2 text-primary-100">
            <li><a href="/" class="hover:text-white transition-smooth">Home</a></li>
            <li><a href="/papers" class="hover:text-white transition-smooth">Browse Papers</a></li>
            <li><a href="/analytics" class="hover:text-white transition-smooth">Analytics</a></li>
            <li><a href="/board" class="hover:text-white transition-smooth">Editorial Board</a></li>
          </ul>
        </div>

        <!-- Resources -->
        <div>
          <h4 class="font-crimson font-semibold mb-4">Resources</h4>
          <ul class="space-y-2 text-primary-100">
            <li><a href="https://www.universiteitleiden.nl/en/events/series/sole" target="_blank" 
              rel="noopener noreferrer" class="hover:text-white transition-smooth">About SOLE</a></li>
            
            <li><a href="mailto:sole.leiden@gmail.com" class="hover:text-white transition-smooth">Contact</a></li>
          </ul>
        </div>
      </div>

      <div class="border-t border-primary-700 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center">
        <p class="text-primary-200 text-sm">Â© 2025 SOLE Archive. Website built by <a href="https://tomsgrizzi.github.io/" class="hover:text-white transition-smooth">Tommaso Sgrizzi</a>.</p>
        <div class="flex space-x-6 mt-4 md:mt-0">
          
        </div>
      </div>
    </div>
  </footer>
</Layout>

<style>
  /* Override card styling to ensure proper spacing */
  .card {
    padding: 2rem !important;
    border-radius: 0.75rem !important;
    border: 1px solid #e5e7eb !important;
    background: white !important;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;
    transition: all 0.3s ease-out !important;
  }
  
  .card:hover {
    transform: translateY(-2px) !important;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
  }
  
     .line-clamp-3 {
     overflow: hidden;
     display: -webkit-box;
     -webkit-box-orient: vertical;
     -webkit-line-clamp: 3;
   }
   
   .line-clamp-4 {
     overflow: hidden;
     display: -webkit-box;
     -webkit-box-orient: vertical;
     -webkit-line-clamp: 4;
   }
</style>